source 'https://rubygems.org'

# are we at mpg?
LOCAL_HOSTNAME = `hostname -f`.chomp
RUNNING_AT_MPG = !(LOCAL_HOSTNAME =~ /mpg.de$/).nil?
def at_mpg?
  RUNNING_AT_MPG
end

gem 'rails', '~> 3.2.19'
gem "mysql2"

gem "rack"

group :assets do
  gem 'sprockets'
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'
  gem 'jquery-rails'
  gem 'jquery-ui-rails'
  gem 'therubyracer', :platforms => :ruby
  gem 'libv8', "~> 3.11.8.17"
  #gem 'therubyracer', '~> 0.11.3', :platform => :ruby

  gem 'uglifier', '>= 1.0.3'
end

gem 'tinymce-rails', "3.5.8.1"
gem 'tinymce-rails-langs'

gem 'nokogiri', '1.4.4'   # must be before RC; otherwise, we'll get the following warning: WARNING: Nokogiri was built against LibXML version 2.7.8, but has dynamically loaded 2.7.3

# Core gems
gem 'infopark_rails_connector', '6.9.1.3.22208381'
gem 'infopark_crm_connector', "1.0.1" #,         '6.7.3.46.f7de2e2'
gem "infopark_fiona_connector", '6.9.1.3.22208381'
gem 'infopark_thorium', '1.0.7'

# Our gems
gem 'infopark_content_extensions',    :path => 'vendor/gems/infopark_content_extensions'
gem 'mpg_common',                     :path => 'vendor/gems/mpg_common'

gem 'infopark_complex_object',        :path => 'vendor/gems/infopark_complex_object'
gem 'infobox_release',                :path => 'vendor/gems/infobox_release'
gem 'pubman',                         :path => 'vendor/gems/pubman'
gem 'template_finder',                :path => 'vendor/gems/template_finder'

gem 'max_background_jobs',            :path => 'vendor/gems/max_background_jobs'
gem 'max_newsletter',                 :path => 'vendor/gems/max_newsletter'
gem 'max_crm',                        :path => 'vendor/gems/max_crm'

# Dependencies for infobox_release
gem 'cells', '~> 3.8.0'

gem 'composite_primary_keys'#, '3.1.0'
gem 'constantrecord'
gem 'rails3-jquery-autocomplete'
gem 'dropzonejs-rails'

# EmployeeEditor
gem 'httparty'
gem 'active_attr'
gem 'sort_alphabetical', "1.0.1"

# Core library gems
gem 'htmlentities'
gem 'draper'

gem 'addressable'

# TODO: upgrade to 3.0, depends on rails_connector :(
gem 'will_paginate'#, '~> 2.3.15'

gem 'ci_reporter', '1.8.4', :require => false

# Image upload related gems
gem 'rmagick', '2.12.2', :require => 'RMagick'  # the version of ImageMagick on SLES at MPG is too old for 2.13.1
gem 'rubyzip', "~> 0.9", :require => 'zip/zipfilesystem'

# OMC Related gems
gem 'fastercsv'

gem 'wicked_pdf'

# Monitoring gems
#gem "airbrake"#, :path => "vendor/gems/airbrake_patched"
gem 'honeybadger','~>1.11.0'


# ExtensionEmployeeList
gem 'jquery-datatables-rails'

# Cron-Jobs
gem 'whenever', :require => false

group :production do
  gem "newrelic_rpm", "~> 3.5"
end

gem 'cancan'

# Ugly gems
# gem 'wikicloth', '0.7.0'
gem 'term-ansicolor', :require => 'term/ansicolor'
gem 'audiojs'

group :development do
  gem "capistrano-deploytags", :require => false
  gem 'pry-rails'
  gem 'wirble'
  gem 'better_errors', '>=1.0.1'
  gem 'quiet_assets'
end

group :test do
  gem 'vcr'
  gem 'webmock', '< 1.9'
  gem 'fakecrm', :git => 'git@github.com:infopark/fakecrm.git'
end

# Bundle gems for the local environment. Make sure to
# put test-only gems in this group so their generators
# and rake tasks are available in development mode:
group :development, :test do
  gem 'thin'
  gem 'unicorn-rails', :require => nil
  gem 'rspec-rails', '~> 2.14.0'
  gem 'rspec-cells'
  gem 'rspec-tag_matchers'
  gem 'rspec-nc'
  gem 'capybara', '~> 1.1.4'
  gem 'selenium-webdriver', '~> 2.35.0'
  gem 'poltergeist'
  gem 'rspec-core', '~> 2.14.0'
  gem 'terminal-notifier-guard'
  gem 'rb-fsevent'
  gem "show_me_the_cookies"
  gem 'pry'
  gem 'ffi', '~> 1.0.0' # 1.1.x is still broken on mac os x!!!!!
  # gem 'pry_debug'

  gem 'ruby-debug', :platforms => :ruby_18
  gem 'debugger', :platforms => :ruby_20

  gem 'guard-rspec'
  gem 'guard-bundler'
  gem 'guard-spork'

  gem 'binding_of_caller', '~> 0.7.2'
end
